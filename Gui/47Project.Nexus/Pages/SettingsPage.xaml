<UserControl x:Class="_47Project.Nexus.Pages.SettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="Transparent">
  <ScrollViewer VerticalScrollBarVisibility="Auto">
    <StackPanel Margin="6" Orientation="Vertical" Spacing="12">
      <Border Background="{DynamicResource App.Surface}" BorderBrush="{DynamicResource App.Border}" BorderThickness="1" CornerRadius="14" Padding="18">
        <StackPanel Orientation="Vertical" Spacing="10">
          <TextBlock Text="Settings" FontSize="20" FontWeight="SemiBold" Foreground="{DynamicResource App.Text}"/>
          <TextBlock Text="Theme, visuals, and UI preferences." Foreground="{DynamicResource App.SubtleText}"/>

          <Separator Opacity="0.35"/>

          <StackPanel Orientation="Vertical" Spacing="8">
            <TextBlock Text="Theme" Foreground="{DynamicResource App.SubtleText}"/>
            <ComboBox ItemsSource="{Binding ThemeOptions}" SelectedItem="{Binding SelectedTheme}" MinWidth="240"/>

            <TextBlock Text="Matrix rain overlay" Margin="0,10,0,0" Foreground="{DynamicResource App.SubtleText}"/>
            <CheckBox Content="Enable subtle matrix rain (toggle anytime)" IsChecked="{Binding MatrixRainEnabled}"/>

            <StackPanel Orientation="Horizontal" Spacing="10" VerticalAlignment="Center" Margin="0,4,0,0">
              <TextBlock Text="Intensity" Foreground="{DynamicResource App.SubtleText}" Width="70" VerticalAlignment="Center"/>
              <Slider Minimum="0" Maximum="1" Value="{Binding MatrixRainIntensity}" Width="240"/>
              <TextBlock Text="{Binding MatrixRainIntensity, StringFormat={}{0:P0}}" Foreground="{DynamicResource App.SubtleText}" VerticalAlignment="Center"/>
            </StackPanel>

            <TextBlock Text="Log viewer" Margin="0,10,0,0" Foreground="{DynamicResource App.SubtleText}"/>
            <CheckBox Content="Auto-scroll logs by default" IsChecked="{Binding AutoScrollLogs}"/>

            <TextBlock Text="Settings file" Margin="0,10,0,0" Foreground="{DynamicResource App.SubtleText}"/>
            <TextBlock Text="{Binding SettingsPath}" TextWrapping="Wrap" Foreground="{DynamicResource App.Text}" Opacity="0.9"/>
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Background="{DynamicResource App.Surface}" BorderBrush="{DynamicResource App.Border}" BorderThickness="1" CornerRadius="14" Padding="18">
        <StackPanel Orientation="Vertical" Spacing="8">
          <TextBlock Text="Tips" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource App.Text}"/>
          <TextBlock Text="• Create 'portable.flag' next to the GUI exe to store ui_settings.json beside the app." Foreground="{DynamicResource App.SubtleText}" TextWrapping="Wrap"/>
          <TextBlock Text="• Matrix rain is purely visual; it does not change plan execution." Foreground="{DynamicResource App.SubtleText}" TextWrapping="Wrap"/>
        </StackPanel>
      </Border>
    </StackPanel>
  </ScrollViewer>
</UserControl>
